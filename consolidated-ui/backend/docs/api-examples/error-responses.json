{
  "description": "Comprehensive error response examples",
  "errors": {
    "400_bad_request": {
      "scenario": "Invalid cron expression",
      "request": {
        "method": "POST",
        "url": "http://localhost:8000/api/v1/tasks",
        "body": {
          "skill_name": "pair-programming",
          "schedule_cron": "invalid cron",
          "params": {}
        }
      },
      "response": {
        "status": 400,
        "body": {
          "detail": "Invalid cron expression 'invalid cron': Bad weekday"
        }
      }
    },
    "401_unauthorized": {
      "scenario": "Missing JWT token",
      "request": {
        "method": "GET",
        "url": "http://localhost:8000/api/v1/tasks",
        "headers": {}
      },
      "response": {
        "status": 401,
        "body": {
          "detail": "Not authenticated"
        }
      }
    },
    "403_forbidden": {
      "scenario": "User tries to access another user's task (OWASP BOLA protection)",
      "request": {
        "method": "GET",
        "url": "http://localhost:8000/api/v1/tasks/999",
        "headers": {
          "Authorization": "Bearer user_12345_token"
        }
      },
      "response": {
        "status": 403,
        "body": {
          "detail": "You do not have permission to access this resource"
        }
      },
      "note": "Task 999 belongs to a different user"
    },
    "404_not_found": {
      "scenario": "Task does not exist or has been soft deleted",
      "request": {
        "method": "GET",
        "url": "http://localhost:8000/api/v1/tasks/99999"
      },
      "response": {
        "status": 404,
        "body": {
          "detail": "Task 99999 not found"
        }
      }
    },
    "422_validation_error": {
      "scenario": "Pydantic validation fails",
      "request": {
        "method": "POST",
        "url": "http://localhost:8000/api/v1/tasks",
        "body": {
          "skill_name": "",
          "schedule_cron": "0 0 * * *"
        }
      },
      "response": {
        "status": 422,
        "body": {
          "detail": [
            {
              "loc": ["body", "skill_name"],
              "msg": "ensure this value has at least 1 characters",
              "type": "value_error.any_str.min_length",
              "ctx": {
                "limit_value": 1
              }
            }
          ]
        }
      }
    },
    "429_rate_limit": {
      "scenario": "Rate limit exceeded",
      "request": {
        "method": "GET",
        "url": "http://localhost:8000/api/v1/tasks"
      },
      "response": {
        "status": 429,
        "headers": {
          "Retry-After": "60",
          "X-RateLimit-Reset": "1699999999"
        },
        "body": {
          "detail": "Rate limit exceeded: 100 per 1 minute"
        }
      }
    },
    "500_internal_error": {
      "scenario": "Unexpected server error",
      "request": {
        "method": "GET",
        "url": "http://localhost:8000/api/v1/tasks"
      },
      "response": {
        "status": 500,
        "headers": {
          "X-Request-ID": "550e8400-e29b-41d4-a716-446655440000"
        },
        "body": {
          "detail": "Internal server error",
          "error_id": "550e8400-e29b-41d4-a716-446655440000"
        }
      },
      "note": "Use error_id for tracing in logs"
    }
  }
}
